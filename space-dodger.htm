<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Space Dodger - Kaybettin mi? Tekrar dene!</title>
  <style>
    :root{--bg:#07071a;--panel:#0f1226;--accent:#6ef0ff;--danger:#ff6b6b}
    *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Arial}
    html,body{height:100%;margin:0;background:radial-gradient(circle at 10% 20%, #0b1024 0%, var(--bg) 40%);color:#e6eef8}
    .wrap{min-height:100%;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{width:100%;max-width:900px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:14px;padding:18px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    header{display:flex;align-items:center;gap:12px;margin-bottom:12px}
    h1{font-size:20px;margin:0}
    .controls{display:flex;gap:8px;margin-left:auto;align-items:center}
    button{background:var(--accent);border:0;color:#042;padding:8px 12px;border-radius:8px;font-weight:600;cursor:pointer}
    button.ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:inherit}
    .game-area{position:relative;border-radius:10px;overflow:hidden;background:linear-gradient(180deg,#050417, #08102a);height:520px}
    canvas{display:block;width:100%;height:100%}
    .overlay{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;pointer-events:none}
    .panel{pointer-events:auto;padding:18px 22px;border-radius:12px;background:linear-gradient(180deg,rgba(3,6,15,0.7),rgba(3,6,15,0.85));backdrop-filter: blur(6px);text-align:center}
    .hidden{display:none}
    .score{position:absolute;left:12px;top:12px;padding:6px 10px;border-radius:10px;background:rgba(255,255,255,0.03);font-weight:700}
    .touch-controls{position:absolute;right:12px;bottom:12px;display:flex;gap:8px}
    .big-btn{padding:10px 14px;border-radius:10px;background:rgba(255,255,255,0.03);cursor:pointer}
    footer{margin-top:12px;color:#9fb3c9;font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div style="display:flex;align-items:center;gap:12px">
          <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 12l20-8-8 20-2-8-10-4z" fill="#6ef0ff"/></svg>
          <h1>Space Dodger â€” Uzayda Manevra Yap</h1>
        </div>
        <div class="controls">
          <div style="font-size:13px;color:#b9dff0">Tema: Sevimli Uzay KaÃ§Ä±ÅŸ</div>
          <button id="startBtn">BaÅŸlat</button>
          <button id="muteBtn" class="ghost">Sesi Kapat</button>
        </div>
      </header>

      <div class="game-area">
        <canvas id="gameCanvas" width="800" height="520"></canvas>
        <div class="score" id="score">Skor: 0</div>

        <div class="overlay" id="startOverlay">
          <div class="panel">
            <h2 style="margin:0 0 8px">Space Dodger</h2>
            <p style="margin:0 0 14px">Klavye ile yÃ¶n tuÅŸlarÄ±nÄ± kullan veya ekrandaki dÃ¼ÄŸmelere dokun. Asteroitlerden kaÃ§ ve mÃ¼mkÃ¼n olduÄŸunca uzun yaÅŸa!</p>
            <button id="startOverlayBtn">Oyuna BaÅŸla</button>
          </div>
        </div>

        <div class="overlay hidden" id="loseOverlay">
          <div class="panel" style="max-width:360px">
            <h2 style="margin:0 0 8px">Kaybettin ğŸ˜µâ€ğŸ’«</h2>
            <p style="margin:0 0 12px">Asteroide Ã§arptÄ±n. Skorun: <span id="finalScore">0</span></p>
            <button id="retryBtn">Tekrar Dene</button>
          </div>
        </div>

        <div class="touch-controls" id="touchControls" style="display:none">
          <div class="big-btn" id="leftBtn">â—€</div>
          <div class="big-btn" id="rightBtn">â–¶</div>
          <div class="big-btn" id="shootBtn">AteÅŸ</div>
        </div>
      </div>

      <footer>Made for GitHub â€” bu tek dosyalÄ±k oyun kodunu repo'na koyup Ã§alÄ±ÅŸtÄ±rabilirsin.</footer>
    </div>
  </div>

  <script>
    // Basit ama gÃ¼zel bir "uzay kaÃ§Ä±ÅŸ" oyunu
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    const W = canvas.width, H = canvas.height;

    // DOM
    const startBtn = document.getElementById('startBtn');
    const startOverlay = document.getElementById('startOverlay');
    const startOverlayBtn = document.getElementById('startOverlayBtn');
    const loseOverlay = document.getElementById('loseOverlay');
    const retryBtn = document.getElementById('retryBtn');
    const scoreEl = document.getElementById('score');
    const finalScore = document.getElementById('finalScore');
    const muteBtn = document.getElementById('muteBtn');

    let running = false, muted = false;

    // Oyun deÄŸiÅŸkenleri
    let player, asteroids, bullets, spawnTimer, score, speedMultiplier;

    function resetGame(){
      player = {x: W/2, y: H-80, r:18, vx:0};
      asteroids = [];
      bullets = [];
      spawnTimer = 0;
      score = 0;
      speedMultiplier = 1;
      updateScore();
    }

    function startGame(){
      resetGame();
      startOverlay.classList.add('hidden');
      loseOverlay.classList.add('hidden');
      running = true;
      lastTime = performance.now();
      requestAnimationFrame(loop);
    }

    function endGame(){
      running = false;
      finalScore.textContent = Math.floor(score);
      loseOverlay.classList.remove('hidden');
    }

    function updateScore(){
      scoreEl.textContent = 'Skor: ' + Math.floor(score);
    }

    // GiriÅŸler
    const keys = {};
    window.addEventListener('keydown', e=>{ keys[e.key]=true; if(e.key===' '){ e.preventDefault(); shoot(); } });
    window.addEventListener('keyup', e=>{ keys[e.key]=false; });

    // Touch buttons (gÃ¶rÃ¼nÃ¼rlÃ¼k kontrolÃ¼)
    function isTouchDevice(){ return 'ontouchstart' in window || navigator.maxTouchPoints>0; }
    if(isTouchDevice()){ document.getElementById('touchControls').style.display='flex'; }
    document.getElementById('leftBtn').addEventListener('touchstart', ()=>keys.ArrowLeft=true); document.getElementById('leftBtn').addEventListener('touchend', ()=>keys.ArrowLeft=false);
    document.getElementById('rightBtn').addEventListener('touchstart', ()=>keys.ArrowRight=true); document.getElementById('rightBtn').addEventListener('touchend', ()=>keys.ArrowRight=false);
    document.getElementById('shootBtn').addEventListener('touchstart', shoot);

    // Fare / dÃ¼ÄŸme iÅŸlemleri
    startBtn.addEventListener('click', ()=>startGame());
    startOverlayBtn.addEventListener('click', ()=>startGame());
    retryBtn.addEventListener('click', ()=>startGame());

    muteBtn.addEventListener('click', ()=>{ muted = !muted; muteBtn.textContent = muted? 'Sesi AÃ§' : 'Sesi Kapat'; });

    // Ses (Ã§ok basit beep efektleri)
    function beep(freq, len){ if(muted) return; try{
      const ctxA = new (window.AudioContext || window.webkitAudioContext)();
      const o = ctxA.createOscillator();
      const g = ctxA.createGain();
      o.type='sine'; o.frequency.value = freq; g.gain.value = 0.02;
      o.connect(g); g.connect(ctxA.destination);
      o.start(); setTimeout(()=>{ o.stop(); ctxA.close(); }, len);
    }catch(e){}
    }

    function shoot(){
      if(!running) return;
      bullets.push({x:player.x, y:player.y-22, r:4, vy:-8});
      beep(900,80);
    }

    // Asteroid Ã¼retimi
    function spawnAsteroid(){
      const r = 12 + Math.random()*24;
      const x = r + Math.random()*(W-2*r);
      const y = -r - 20;
      const vx = (Math.random()-0.5)*1.6;
      const vy = 1.4 + Math.random()*2.2 + speedMultiplier*0.4;
      asteroids.push({x,y,r,vx,vy,angle:Math.random()*Math.PI*2, spin:(Math.random()-0.5)*0.04});
    }

    // Ã‡arpÄ±ÅŸma yardÄ±mcÄ±
    function circleCollide(a,b){
      const dx = a.x-b.x, dy = a.y-b.y; return dx*dx+dy*dy <= (a.r+b.r)*(a.r+b.r);
    }

    // DÃ¶ngÃ¼
    let lastTime = 0;
    function loop(ts){
      const dt = Math.min(40, ts-lastTime)/16.666; lastTime = ts;
      // update
      if(keys.ArrowLeft || keys.a) player.vx = -5;
      else if(keys.ArrowRight || keys.d) player.vx = 5;
      else player.vx = 0;
      player.x += player.vx * dt;
      if(player.x < player.r) player.x = player.r; if(player.x>W-player.r) player.x=W-player.r;

      spawnTimer += dt;
      if(spawnTimer > 15 - Math.min(13, score/200)){
        spawnAsteroid(); spawnTimer = 0; score += 2; speedMultiplier += 0.01;
      }

      // gÃ¼ncelleme: mermiler
      for(let i=bullets.length-1;i>=0;i--){
        bullets[i].y += bullets[i].vy * dt;
        if(bullets[i].y < -20) bullets.splice(i,1);
      }

      // asteroitler
      for(let i=asteroids.length-1;i>=0;i--){
        const a = asteroids[i]; a.x += a.vx * dt; a.y += a.vy * dt; a.angle += a.spin*dt;
        if(a.y - a.r > H + 50) asteroids.splice(i,1);
      }

      // Ã§arpÄ±ÅŸma: mermi-asteroit
      for(let i=asteroids.length-1;i>=0;i--){
        for(let j=bullets.length-1;j>=0;j--){
          if(circleCollide(asteroids[i], bullets[j])){
            beep(600,40);
            score += Math.max(5, Math.floor(30 - asteroids[i].r));
            asteroids.splice(i,1); bullets.splice(j,1);
            break;
          }
        }
      }

      // Ã§arpÄ±ÅŸma: oyuncu-asteroit
      for(let a of asteroids){ if(circleCollide(a, player)) { beep(150,300); endGame(); break; } }

      // skor artÄ±ÅŸÄ±
      score += 0.02 * dt; updateScore();

      render();
      if(running) requestAnimationFrame(loop);
    }

    // Render
    function render(){
      // temizle
      ctx.clearRect(0,0,W,H);
      // yÄ±ldÄ±zlÄ± arka plan
      const grad = ctx.createLinearGradient(0,0,0,H);
      grad.addColorStop(0,'rgba(110,240,255,0.02)'); grad.addColorStop(1,'rgba(0,0,0,0.02)');
      ctx.fillStyle = grad; ctx.fillRect(0,0,W,H);

      // yÄ±ldÄ±zlar (basit sparkle)
      for(let i=0;i<60;i++){
        const x = (i*47) % W; const y = (i*73) % H; const s = (i%3)+0.6;
        ctx.fillStyle = 'rgba(255,255,255,'+ (0.06 + ((i*13)%10)/100) +')'; ctx.fillRect(x,y,s,s);
      }

      // asteroitler
      for(let a of asteroids){
        ctx.save(); ctx.translate(a.x,a.y); ctx.rotate(a.angle);
        // Ã§izgi ile parÃ§alÄ± rock
        ctx.beginPath();
        const spikes = 7; for(let i=0;i<spikes;i++){ const ang = (i/spikes)*Math.PI*2; const rr = a.r * (0.7 + 0.3*Math.sin(i*3+ a.angle*4)); const px = Math.cos(ang)*rr, py=Math.sin(ang)*rr; ctx.lineTo(px,py);} ctx.closePath();
        ctx.fillStyle = 'rgba(150,140,140,0.95)'; ctx.fill(); ctx.restore();
      }

      // mermiler
      for(let b of bullets){ ctx.beginPath(); ctx.arc(b.x,b.y,b.r,0,Math.PI*2); ctx.fillStyle='white'; ctx.fill(); }

      // oyuncu (sevimli gemi)
      ctx.save(); ctx.translate(player.x, player.y);
      ctx.beginPath(); ctx.moveTo(0,-18); ctx.lineTo(14,12); ctx.lineTo(0,6); ctx.lineTo(-14,12); ctx.closePath();
      ctx.fillStyle = '#6ef0ff'; ctx.fill();
      // pencere
      ctx.beginPath(); ctx.arc(0,-2,5,0,Math.PI*2); ctx.fillStyle='#083449'; ctx.fill();
      ctx.restore();

      // yumuÅŸak gÃ¶lge alt
      ctx.beginPath(); ctx.ellipse(player.x, player.y+player.r+6, player.r+12, 8, 0,0,Math.PI*2); ctx.fillStyle='rgba(0,0,0,0.3)'; ctx.fill();
    }

    // BaÅŸlangÄ±Ã§ta overlay gÃ¶rÃ¼nÃ¼r kalsÄ±n
    startOverlay.classList.remove('hidden');

    // Basit rehber: GitHub'a koyarken tek dosya olarak kaydet
    // Ä°stersen ileride: - seviye, gÃ¼Ã§lendirme, liderlik tablosu ekleyebilirsin.

    // Butonlarda hÄ±zlÄ± ateÅŸ iÃ§in test
    canvas.addEventListener('click', shoot);

    // Responsive canvas (Ã¶lÃ§ek, CSS ile geniÅŸletilmiÅŸ)
    function fitCanvas(){ const ratio = canvas.width / canvas.height; const w = Math.min(document.querySelector('.game-area').clientWidth, 900); canvas.style.width = w + 'px'; canvas.style.height = (w/ratio) + 'px'; }
    window.addEventListener('resize', fitCanvas); fitCanvas();
  </script>
</body>
</html>
