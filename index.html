<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Meteor Kaçış</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background: black;
            color: white;
            font-family: Arial;
            text-align: center;
        }
        #score {
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <canvas id="game" width="400" height="600"></canvas>
    <div id="score">Skor: 0</div>

    <script src="game.js"></script>
</body>
</html>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let score = 0;

// Oyuncu
const player = {
    x: 200,
    y: 520,
    width: 30,
    height: 30,
    speed: 5
};

// Meteorlar
let meteors = [];
function spawnMeteor() {
    meteors.push({
        x: Math.random() * 370,
        y: -20,
        size: 20 + Math.random() * 20,
        speed: 2 + Math.random() * 3
    });
}

setInterval(spawnMeteor, 800);

// Klavye kontrol
let keys = {};
document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

function update() {
    // Oyuncu hareketi
    if (keys["ArrowLeft"] && player.x > 0) player.x -= player.speed;
    if (keys["ArrowRight"] && player.x < canvas.width - player.width) player.x += player.speed;

    // Meteor hareketi
    meteors.forEach(m => m.y += m.speed);

    // Çarpışma kontrol
    meteors.forEach(m => {
        if (
            player.x < m.x + m.size &&
            player.x + player.width > m.x &&
            player.y < m.y + m.size &&
            player.y + player.height > m.y
        ) {
            alert("Oyun Bitti! Skorun: " + score);
            location.reload();
        }
    });

    // Skor
    score++;
    document.getElementById("score").innerText = "Skor: " + score;
}

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Oyuncu (beyaz kare)
    ctx.fillStyle = "white";
    ctx.fillRect(player.x, player.y, player.width, player.height);

    // Meteorlar (kırmızı)
    ctx.fillStyle = "red";
    meteors.forEach(m => {
        ctx.beginPath();
        ctx.arc(m.x, m.y, m.size, 0, Math.PI * 2);
        ctx.fill();
    });
}

function loop() {
    update();
    draw();
    requestAnimationFrame(loop);
}

loop();
